{"ast":null,"code":"import _asyncToGenerator from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{ReactSearchAutocomplete}from'react-search-autocomplete';import{jsx as _jsx}from\"react/jsx-runtime\";var SearchBar=/*#__PURE__*/function(_React$Component){_inherits(SearchBar,_React$Component);var _super=_createSuper(SearchBar);function SearchBar(props){var _this;_classCallCheck(this,SearchBar);_this=_super.call(this,props);_this.handleOnSelect=function(item){_this.props.onSelectCompany(item);};_this.handleOnClear=function(){_this.props.onClearSearch();};_this.state={data:[]};return _this;}_createClass(SearchBar,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchData();}},{key:\"fetchData\",value:function fetchData(){var _this2=this;var url='/api/v1/company';fetch(url).then(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var a;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return res.json();case 2:a=_context.sent;_this2.setState({data:a});return _context.abrupt(\"return\",a);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}()).catch(function(error){return console.log(error);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(ReactSearchAutocomplete,{items:this.state.data,fuseOptions:{keys:[\"symbol\",\"name\"]}// Search on both fields\n,autoFocus:true,onSelect:this.handleOnSelect,onClear:this.handleOnClear,resultStringKeyName:\"symbol\"// String to display in the results\n,placeholder:'Search by symbol or name',styling:{zIndex:2}// To display it on top of the search box below\n});}}]);return SearchBar;}(React.Component);export default SearchBar;","map":{"version":3,"sources":["/Users/collinpreston/Documents/GitHub/fails-to-deliver/client/src/components/SearchBar.js"],"names":["React","ReactSearchAutocomplete","SearchBar","props","handleOnSelect","item","onSelectCompany","handleOnClear","onClearSearch","state","data","fetchData","url","fetch","then","res","json","a","setState","catch","error","console","log","keys","zIndex","Component"],"mappings":"q2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,uBAAT,KAAwC,2BAAxC,C,8CAEMC,CAAAA,S,kHAEF,mBAAYC,KAAZ,CAAmB,2CACf,uBAAMA,KAAN,EADe,MAWnBC,cAXmB,CAWF,SAACC,IAAD,CAAS,CACxB,MAAKF,KAAL,CAAWG,eAAX,CAA2BD,IAA3B,EACD,CAbkB,OAenBE,aAfmB,CAeH,UAAK,CACnB,MAAKJ,KAAL,CAAWK,aAAX,GACD,CAjBkB,CAEf,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAAb,CAFe,aAKhB,C,uDAEH,4BAAmB,CACjB,KAAKC,SAAL,GACD,C,yBAWD,oBAAW,iBACP,GAAMC,CAAAA,GAAG,CAAG,iBAAZ,CACAC,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,0FACU,iBAAMC,GAAN,8IACcA,CAAAA,GAAG,CAACC,IAAJ,EADd,QACIC,CADJ,eAEF,MAAI,CAACC,QAAL,CAAc,CAACR,IAAI,CAAEO,CAAP,CAAd,EAFE,gCAGKA,CAHL,wDADV,gEAMKE,KANL,CAMW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EANhB,EAOH,C,sBAED,iBAAS,CACP,mBACE,KAAC,uBAAD,EACI,KAAK,CAAE,KAAKX,KAAL,CAAWC,IADtB,CAEI,WAAW,CAAE,CAAEa,IAAI,CAAE,CAAC,QAAD,CAAW,MAAX,CAAR,CAA8B;AAF/C,CAGI,SAAS,KAHb,CAII,QAAQ,CAAE,KAAKnB,cAJnB,CAKI,OAAO,CAAE,KAAKG,aALlB,CAMI,mBAAmB,CAAC,QAAS;AANjC,CAOI,WAAW,CAAE,0BAPjB,CAQI,OAAO,CAAE,CAAEiB,MAAM,CAAE,CAAV,CAAe;AAR5B,EADF,CAYD,C,uBA9CmBxB,KAAK,CAACyB,S,EAiD9B,cAAevB,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport { ReactSearchAutocomplete } from 'react-search-autocomplete'\n\nclass SearchBar extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        }\n      }\n\n    componentDidMount(){\n      this.fetchData();\n    }\n\n    handleOnSelect = (item) =>{\n      this.props.onSelectCompany(item)\n    };\n\n    handleOnClear = () =>{\n      this.props.onClearSearch()\n    }\n  \n  \n    fetchData(){\n        const url = '/api/v1/company';\n        fetch(url)\n            .then(async(res) => {\n                const a = await res.json()\n                this.setState({data: a})\n                return a\n            })\n            .catch(error => console.log(error))\n    }\n  \n    render() {\n      return (\n        <ReactSearchAutocomplete\n            items={this.state.data}\n            fuseOptions={{ keys: [\"symbol\", \"name\"] }} // Search on both fields\n            autoFocus\n            onSelect={this.handleOnSelect}\n            onClear={this.handleOnClear}\n            resultStringKeyName=\"symbol\" // String to display in the results\n            placeholder={'Search by symbol or name'}\n            styling={{ zIndex: 2 }} // To display it on top of the search box below\n          />\n      );\n    }\n  }\n\nexport default SearchBar;\n"]},"metadata":{},"sourceType":"module"}